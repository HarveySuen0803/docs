### DNS 解析

将域名映射为 IP 地址的过程称为 域名解析（DNS 解析），这是通过域名系统（Domain Name System, DNS）完成的。以下是详细的步骤和举例：

1. 用户输入域名

- 用户在浏览器中输入域名，例如：www.example.com。

2. 浏览器检查缓存

- 本地缓存： 浏览器会首先检查本地缓存中是否有域名对应的 IP 地址。如果有，直接使用该 IP 地址。
- 操作系统缓存： 如果浏览器缓存中没有，会查询操作系统的 DNS 缓存（如 hosts 文件）。

3. 查询本地 DNS 服务器

- 如果本地没有缓存记录，操作系统会将查询请求发送到配置的本地 DNS 服务器（通常由 ISP 提供）。

4. 本地 DNS 服务器递归查询，具体步骤如下：

- 根域名服务器：本地 DNS 服务器查询根域名服务器（如 .）。根域名服务器返回顶级域（TLD）服务器的地址，例如 .com 的 TLD。
  - 示例：根域名服务器返回 .com 的 TLD 服务器地址。
- TLD 服务器：本地 DNS 服务器向 .com 的 TLD 服务器查询。TLD 服务器会返回 example.com 的权威 DNS 服务器地址。
  - 示例：.com 的 TLD 服务器返回 ns1.example.com 的 IP 地址。
- 权威 DNS 服务器：本地 DNS 服务器向权威 DNS 服务器发送查询请求，获取 www.example.com 的 IP 地址。
  - 示例：权威 DNS 服务器返回 93.184.216.34。

5. 返回结果

- 本地 DNS 服务器将查询结果返回给操作系统。
- 操作系统将 IP 地址提供给浏览器，浏览器使用该 IP 地址与服务器建立连接。

6. 建立连接并加载页面

- 浏览器通过 IP 地址与服务器建立 TCP 连接（通常使用 HTTPS 协议）。
- 服务器返回对应网站内容，浏览器渲染页面。

```
浏览器缓存 → 操作系统缓存 → 本地 DNS 缓存

本地 DNS 服务器 → 根域名服务器 → TLD 服务器 → 权威 DNS 服务器

返回 IP 地址 → 建立连接 → 加载网页
```


